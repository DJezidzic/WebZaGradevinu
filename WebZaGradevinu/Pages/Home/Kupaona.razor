@using WebZaGradevinu.Data
@using WebZaGradevinu.Services
@using BlazorInputFile
@using System.IO

@inherits OwningComponentBase<ImgUploadService>
<hr />

@foreach (var imgshow in imgdispobj)
{
    if (imgshow.Types == ImageLists.RoomType.Kupaona)
    {
        <figure class="figure">
            <img src="@convertImageForGallery(imgshow.Image)" class="img-thumbnail figure-img" width="300px" alt="@imgshow.ImageName">
            <figcaption class="figure-caption">@imgshow.ImageName</figcaption>
        </figure>
    }
}



@code {

    List<ImageLists> imgdispobj;

    protected override void OnInitialized()
    {
        imgdispobj = Service.displayImage();
    }

    string convertImageForGallery(byte[] image)
    {
        if (image != null)
        {
            var base64 = Convert.ToBase64String(image);
            var fs = string.Format("data:image/jpg;base64,{0}", base64);
            return fs;
        }
        return "";
    }


}

